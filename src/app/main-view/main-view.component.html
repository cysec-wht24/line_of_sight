<div class="flex flex-row h-full">
  <div class="w-1/4">
    <app-sidebar
      [selectedPoint]="selectedPoint"
      [confirmedPoints]="confirmedPoints"
      (pointConfirmed)="onPointConfirmed($event)"
      (pointReset)="onPointReset()"
      (selectionModeChanged)="onSelectionModeChanged($event)"
      [definePathMode]="definePathMode"
      (definePathModeChanged)="onDefinePathModeChanged($event)"
      (pathsChanged)="onPathsChanged($event)"
      (confirmDetailsFinalized)="onConfirmDetailsFinalized($event)"
    >
    </app-sidebar>
  </div>

  <div class="flex flex-col flex-1 p-4 gap-4">
    <div class="flex-grow bg-zinc-600 text-white flex items-center justify-center rounded-md">
      <app-dem-display
        class="w-full h-full"
        [confirmedPoints]="confirmedPoints"
        [selectionMode]="selectionMode"
        (pointSelected)="onPointSelected($event)"
        [definePathMode]="definePathMode"
        (pathPointSelected)="onPathPointSelected($event)"
        [paths]="paths"
        [currentPath]="currentPath"
        [currentPathIndex]="currentPathIndex"
        [movingPoints]="movingPoints"
      ></app-dem-display>
    </div>
    <div class="h-20 flex items-center justify-center rounded-md"> 
      <app-timeline
        class="w-full"
        [rasterData]="rasterData"
        [width]="width"
        [height]="height"
        [tiepointX]="tiepointX"
        [tiepointY]="tiepointY"
        [pixelSizeX]="pixelSizeX"
        [pixelSizeY]="pixelSizeY"
        (positionsChanged)="onPositionsChanged($event)"
      ></app-timeline>
    </div>
  </div>
</div>

